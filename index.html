<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Stillpoint Foundation — STLPNT</title>
<style>
  :root{
    --bg:#0b0b0e; --fg:#f5f7fb; --muted:#a9b0bd; --card:#12141a; --line:#222632;
    --accent:#3ea6ff; --pill:#1b2130; --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  }
  html,body{margin:0; padding:0; background:var(--bg); color:var(--fg); font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;}
  .wrap{max-width:1200px; margin:0 auto; padding:24px;}
  header{display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:16px;}
  header .brand{display:flex; align-items:center; gap:12px;}
  header img{height:40px; width:auto; display:block;}
  h1{font-size:1.4rem; margin:0;}
  .muted{color:var(--muted);}
  .small{font-size:0.9rem;}
  .mono{font-family:var(--mono);}
  .pill{display:inline-block; padding:4px 8px; border-radius:999px; background:var(--pill);}
  .card{
    background:var(--card);
    border:1px solid var(--line);
    border-radius:14px;
    padding:16px;
    box-shadow:0 0 0 1px rgba(255,255,255,0.02) inset, 0 8px 24px rgba(0,0,0,0.35);
  }
  .hero{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap:16px;
    margin:16px 0 24px 0;
  }
  .price{display:flex; align-items:center; gap:12px; flex-wrap:wrap}
  .big{font-weight:700; font-size:2rem;}
  a{color:var(--accent); text-decoration:none}
  a:hover{text-decoration:underline}
  ul,ol{margin:0 0 0 1.25rem; padding:0;}
  li{margin:6px 0;}
  footer{margin-top:28px; border-top:1px solid var(--line); padding-top:16px; color:var(--muted)}
  /* Make all hero cards visually consistent in width/height behavior */
  .hero > .card{display:flex; flex-direction:column}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <!-- your logo -->
        <img src="logo.png" alt="Stillpoint Foundation"/>
        <div>
          <h1>Stillpoint Foundation</h1>
          <div class="muted small">Humanitarian crypto fund powered by STLPNT</div>
        </div>
      </div>
      <div class="pill mono">v1.0</div>
    </header>

    <!-- HERO GRID -->
    <section class="hero">
      <!-- Price card: same width behavior as other cards -->
      <div class="card" id="priceCard" aria-live="polite">
        <h2>STLPNT — Live Price (USD)</h2>
        <div class="price">
          <div class="big" id="price">$—</div>
          <span class="pill mono" id="status">loading…</span>
        </div>
        <div class="muted small">Market reference for 1 STLPNT in USD. Updated from public FX; no backend required.</div>
        <div style="margin-top:10px">
          <div class="mono muted small" id="updatedAt">Updated: —</div>
          <div class="mono muted small" id="mcap">Market Cap: —</div>
        </div>
      </div>

      <!-- Mission card: same width behavior as other cards -->
      <section class="card" id="mission">
        <h2>Mission</h2>
        <p>
          We fund global innovation, education, and relief projects — enabling transparent, decentralized
          distribution of resources to initiatives that create lasting, measurable impact worldwide.
        </p>
      </section>

      <!-- Example existing card (e.g., Governance) to demonstrate consistent sizing -->
      <section class="card" id="governance">
        <h2>Governance</h2>
        <ul>
          <li>Transparent reporting with on-chain references.</li>
          <li>Independent oversight and public accountability.</li>
          <li>Grants and disbursements reviewed on published criteria.</li>
        </ul>
      </section>

      <!-- FUNDING MODEL -->
      <section class="card" id="funding">
        <h2>Funding Model</h2>
        <ul>
          <li>STLPNT token as the primary fund mechanism.</li>
          <li>Donations and matching programs from partners.</li>
          <li>Ring-fenced operating budget; endowment preserved.</li>
          <!-- NEW: Live endowment computation -->
          <li id="endowmentUSDItem">
            <strong>Foundation Endowment (USD): </strong>
            <span id="endowmentUSD">—</span>
            <div class="muted small mono">Computed as: (Live price USD) × 27,984,549.08348</div>
          </li>
        </ul>
      </section>

      <!-- Add more cards as needed... -->
    </section>

    <footer class="small">
      © Stillpoint Foundation — STLPNT. All rights reserved.
    </footer>
  </div>

  <!-- Your existing price updater script can remain as-is.
       Below helper recalculates the Endowment whenever #price changes. -->
  <script>
  (function(){
    const MULTIPLIER = 27984549.08348;
    const fmtUSD = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 2 });

    function parsePriceText(txt){
      if (!txt) return NaN;
      return parseFloat(txt.replace(/[^0-9.\-]/g, ''));
    }

    function updateEndowment(){
      const priceEl = document.getElementById('price');
      const outEl = document.getElementById('endowmentUSD');
      if (!priceEl || !outEl) return;
      const p = parsePriceText(priceEl.textContent);
      if (!isFinite(p)) return;
      outEl.textContent = fmtUSD.format(p * MULTIPLIER);
    }

    // Update on load:
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', updateEndowment);
    } else {
      updateEndowment();
    }

    // Update whenever #price changes:
    const priceEl = document.getElementById('price');
    if (priceEl && 'MutationObserver' in window){
      const obs = new MutationObserver(updateEndowment);
      obs.observe(priceEl, { childList: true, characterData: true, subtree: true });
    }

    // Fallback periodic update:
    setInterval(updateEndowment, 5000);
  })();
  </script>

  <!-- OPTIONAL: If you need a simple demo price (remove if you already have live price logic) -->
  <!--
  <script>
    // Demo only: fake a changing price (remove if you already fetch real price)
    setTimeout(()=>{
      document.getElementById('price').textContent = '$1.23';
      document.getElementById('status').textContent = 'ok';
      document.getElementById('updatedAt').textContent = 'Updated: now';
      document.getElementById('mcap').textContent = 'Market Cap: $—';
    }, 800);
  </script>
  -->
</body>
</html>
